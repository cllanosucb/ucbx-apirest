"use strict";(self.webpackChunksakai=self.webpackChunksakai||[]).push([[306],{7306:(me,Z,r)=>{r.r(Z),r.d(Z,{GestionarEncuestasPregradoModule:()=>ue});var c=r(6019),p=r(9870),e=r(3668),l=r(4522),g=r(2835),_=r(4753),h=r(9433),T=r(8260);let u=(()=>{class t{constructor(n){this.http=n,this.apiUrl=T.N.apiUrl}subirArchivoEncuesta(n){const s=`${this.apiUrl}/encuestas/cargarExcel`,o=(new l.WM).set("token",localStorage.getItem("token")||"");return this.http.put(s,n,{headers:o}).pipe((0,g.K)(this.handleError),(0,_.U)(i=>i),(0,g.K)(this.handleError))}desactivarMateriasEstudiantes(){const n=`${this.apiUrl}/encuestas/desactivarMaterias/estudiantes`,s=(new l.WM).set("token",localStorage.getItem("token")||"");return this.http.get(n,{headers:s}).pipe((0,g.K)(this.handleError),(0,_.U)(o=>o))}activarMateriasEstudiantes(){const n=`${this.apiUrl}/encuestas/activarMaterias/estudiantes`,s=(new l.WM).set("token",localStorage.getItem("token")||"");return this.http.get(n,{headers:s}).pipe((0,g.K)(this.handleError),(0,_.U)(o=>o))}handleError(n){return(0,h._)(0===n.status?{ok:!1,error:{msg:"No tienes conexi\xf3n a internet",err:null}}:n.error)}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(l.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var m=r(7031),d=r(481),f=r(8344),v=r(1070),x=r(4750);function C(t,a){1&t&&e._uU(0," Activar Estudiantes de Materias ")}function A(t,a){1&t&&e._uU(0," Este apartado permite Activar a los estudiantes en sus materias en la plataforma NEO. ")}function G(t,a){1&t&&(e.TgZ(0,"div"),e._UZ(1,"p-progressSpinner",8),e.TgZ(2,"p",8),e._uU(3," Registrando Datos Espere... "),e.qZA(),e.qZA())}function E(t,a){if(1&t&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"json"),e.qZA()),2&t){const n=e.oxw(4);e.xp6(1),e.hij(" ",e.lcZ(2,1,n.error.error.err)," ")}}function N(t,a){if(1&t&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"json"),e.qZA()),2&t){const n=e.oxw(4);e.xp6(1),e.hij(" ",e.lcZ(2,1,n.error.error.error)," ")}}function D(t,a){if(1&t&&(e._UZ(0,"i",11),e.TgZ(1,"div",12),e.TgZ(2,"p"),e._uU(3),e.qZA(),e.YNc(4,E,3,3,"p",5),e.YNc(5,N,3,3,"p",5),e.qZA()),2&t){const n=e.oxw(3);e.xp6(3),e.Oqu(n.error.error.msg),e.xp6(1),e.Q6J("ngIf",null!=n.error.error.err),e.xp6(1),e.Q6J("ngIf",null!=n.error.error.error)}}function U(t,a){1&t&&(e.TgZ(0,"p-messages",9),e.YNc(1,D,6,3,"ng-template",10),e.qZA())}function y(t,a){if(1&t&&(e._UZ(0,"i",11),e.TgZ(1,"div",12),e.TgZ(2,"p"),e._uU(3),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.ALo(6,"json"),e.qZA(),e.qZA()),2&t){const n=e.oxw(3);e.xp6(3),e.Oqu(n.success.data.msg),e.xp6(2),e.Oqu(e.lcZ(6,2,n.success.data))}}function q(t,a){1&t&&(e.TgZ(0,"p-messages",13),e.YNc(1,y,7,4,"ng-template",10),e.qZA())}function b(t,a){if(1&t&&(e.YNc(0,G,4,0,"div",5),e.YNc(1,U,2,0,"p-messages",6),e.YNc(2,q,2,0,"p-messages",7)),2&t){const n=e.oxw();e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",n.errorDatos),e.xp6(1),e.Q6J("ngIf",n.successDatos)}}function Y(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"div",14),e.TgZ(1,"p-button",15),e.NdJ("onClick",function(){return e.CHM(n),e.oxw().prevPage()}),e.qZA(),e.TgZ(2,"p-button",16),e.NdJ("onClick",function(){return e.CHM(n),e.oxw().nextPage()}),e.qZA(),e.qZA()}if(2&t){const n=e.oxw();e.xp6(1),e.Q6J("disabled",n.btnActiveBack),e.xp6(1),e.Q6J("disabled",n.btnActive)}}let I=(()=>{class t{constructor(n,s){this.router=n,this.encuestasService=s,this.error={ok:!1,error:{msg:"No existen datos para agregar",err:null}},this.successDatos=!1,this.loading=!0,this.errorDatos=!1,this.display=!1}ngOnInit(){this.activarMateriasEstudiantes()}activarMateriasEstudiantes(){console.log("entra"),this.encuestasService.activarMateriasEstudiantes().subscribe(n=>{console.log(n),this.success=n,this.loading=!1,this.successDatos=!0},n=>{this.errorDatos=!0,this.loading=!1,this.error=n})}prevPage(){this.router.navigate(["index/gestionarEncuestas/pregrado/cargar"])}nextPage(){this.router.navigate(["index"])}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(p.F0),e.Y36(u))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-gen-activar"]],decls:6,vars:0,consts:[[1,"steps-curso-content"],["pTemplate","title"],["pTemplate","subtitle"],["pTemplate","content"],["pTemplate","footer"],[4,"ngIf"],["severity","error",4,"ngIf"],["severity","success",4,"ngIf"],[1,"grid","grid-nogutter","justify-content-center"],["severity","error"],["pTemplate",""],[1,"pi","pi-times-circle",2,"font-size","1.5rem"],[1,"ml-2"],["severity","success"],[1,"grid","grid-nogutter","justify-content-end"],["label","Inicio","icon","pi pi-angle-left",3,"disabled","onClick"],["label","Salir","icon","pi pi-angle-right","iconPos","right",3,"disabled","onClick"]],template:function(n,s){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"p-card"),e.YNc(2,C,1,0,"ng-template",1),e.YNc(3,A,1,0,"ng-template",2),e.YNc(4,b,3,3,"ng-template",3),e.YNc(5,Y,3,2,"ng-template",4),e.qZA(),e.qZA())},directives:[m.Z,d.jx,c.O5,f.G,v.V,x.zx],pipes:[c.Ts],styles:[""]}),t})();var M=r(5286),J=r(7345);function j(t,a){1&t&&e._uU(0," Cargar Datos Encuestas ")}function w(t,a){1&t&&e._uU(0," Debe subir un archivo Excel con una hoja que debe contener la lista de las encuestas realizadas. ")}function k(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"div",11),e.TgZ(1,"div",12),e.TgZ(2,"h5"),e._uU(3,"Subir Archivo"),e.qZA(),e.TgZ(4,"p-fileUpload",13),e.NdJ("uploadHandler",function(o){return e.CHM(n),e.oxw(2).subir(o)}),e.qZA(),e.qZA(),e.qZA()}}function Q(t,a){1&t&&(e.TgZ(0,"div"),e._UZ(1,"p-progressSpinner",10),e.TgZ(2,"p",10),e._uU(3," Cargando... "),e.qZA(),e.qZA())}function S(t,a){if(1&t&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"json"),e.qZA()),2&t){const n=e.oxw(4);e.xp6(1),e.hij(" ",e.lcZ(2,1,n.error.error.error)," ")}}function P(t,a){if(1&t&&(e._UZ(0,"i",16),e.TgZ(1,"div",17),e.TgZ(2,"p"),e._uU(3),e.qZA(),e.YNc(4,S,3,3,"p",6),e.qZA()),2&t){const n=e.oxw(3);e.xp6(3),e.Oqu(n.error.error.msg),e.xp6(1),e.Q6J("ngIf",null!=n.error.error.error)}}function O(t,a){1&t&&(e.TgZ(0,"p-messages",14),e.YNc(1,P,5,2,"ng-template",15),e.qZA())}function F(t,a){if(1&t&&(e._UZ(0,"i",16),e.TgZ(1,"div",17),e.TgZ(2,"p"),e._uU(3),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.ALo(6,"json"),e.qZA(),e.qZA()),2&t){const n=e.oxw(3);e.xp6(3),e.Oqu(n.success.data.msg),e.xp6(2),e.Oqu(e.lcZ(6,2,n.success.data.data))}}function L(t,a){1&t&&(e.TgZ(0,"p-messages",18),e.YNc(1,F,7,4,"ng-template",15),e.qZA())}const z=function(){return{width:"30vw"}},H=function(){return{"960px":"75vw"}};function B(t,a){if(1&t){const n=e.EpF();e.YNc(0,k,5,0,"div",5),e.YNc(1,Q,4,0,"div",6),e.YNc(2,O,2,0,"p-messages",7),e.YNc(3,L,2,0,"p-messages",8),e.TgZ(4,"p-dialog",9),e.NdJ("visibleChange",function(o){return e.CHM(n),e.oxw().display=o}),e.TgZ(5,"div"),e._UZ(6,"p-progressSpinner",10),e.TgZ(7,"p",10),e._uU(8," Cargando... "),e.qZA(),e.qZA(),e.qZA()}if(2&t){const n=e.oxw();e.Q6J("ngIf",!n.loading&&!n.errorDatos),e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",n.errorDatos),e.xp6(1),e.Q6J("ngIf",n.successDatos),e.xp6(1),e.Akn(e.DdM(8,z)),e.Q6J("visible",n.display)("breakpoints",e.DdM(9,H))}}function R(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"div",19),e.TgZ(1,"p-button",20),e.NdJ("onClick",function(){return e.CHM(n),e.oxw().nextPage()}),e.qZA(),e.qZA()}}let K=(()=>{class t{constructor(n,s){this.router=n,this.encuestasService=s,this.error={ok:!1,error:{msg:"No existen datos para agregar",err:null}},this.successDatos=!1,this.loading=!0,this.errorDatos=!1,this.display=!1}ngOnInit(){this.loading=!1}subir(n){this.display=!0;const s=n.files[0];console.log(s);let o=new FormData;o.append("archivo",s,s.name),this.encuestasService.subirArchivoEncuesta(o).subscribe(i=>{this.success=i,this.successDatos=!0,this.display=!1},i=>{console.log(i),this.errorDatos=!0,this.loading=!1,this.error=i,this.display=!1})}nextPage(){this.router.navigate(["index/gestionarEncuestas/pregrado/desactivarEstudiantes"])}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(p.F0),e.Y36(u))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-gen-cargar"]],decls:6,vars:0,consts:[[1,"steps-inscripciones-content"],["pTemplate","title"],["pTemplate","subtitle"],["pTemplate","content"],["pTemplate","footer"],["class","grid",4,"ngIf"],[4,"ngIf"],["severity","error",4,"ngIf"],["severity","success",4,"ngIf"],["header","Dialog","modal","modal","closable","false","closeOnEscape","false","showEffect","fade",3,"visible","breakpoints","visibleChange"],[1,"grid","grid-nogutter","justify-content-center"],[1,"grid"],[1,"col-12"],["name","fileData","customUpload","true","fileLimit","1","multiple","multiple","accept",".xlsx,.xls","chooseLabel","Buscar Archivo","uploadLabel","Subir Archivo","cancelLabel","Cancelar",3,"uploadHandler"],["severity","error"],["pTemplate",""],[1,"pi","pi-times-circle",2,"font-size","1.5rem"],[1,"ml-2"],["severity","success"],[1,"grid","grid-nogutter","justify-content-end"],["label","Next","icon","pi pi-angle-right","iconPos","right",3,"onClick"]],template:function(n,s){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"p-card"),e.YNc(2,j,1,0,"ng-template",1),e.YNc(3,w,1,0,"ng-template",2),e.YNc(4,B,9,10,"ng-template",3),e.YNc(5,R,2,0,"ng-template",4),e.qZA(),e.qZA())},directives:[m.Z,d.jx,c.O5,M.V,f.G,J.p,v.V,x.zx],pipes:[c.Ts],styles:[""]}),t})();function V(t,a){1&t&&e._uU(0," Desactivar Estudiantes de Materias ")}function X(t,a){1&t&&e._uU(0," Este apartado permite desactivar a los estudiantes de sus materias en la plataforma NEO. ")}function W(t,a){1&t&&(e.TgZ(0,"div"),e._UZ(1,"p-progressSpinner",8),e.TgZ(2,"p",8),e._uU(3," Registrando Datos Espere... "),e.qZA(),e.qZA())}function $(t,a){if(1&t&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"json"),e.qZA()),2&t){const n=e.oxw(4);e.xp6(1),e.hij(" ",e.lcZ(2,1,n.error.error.err)," ")}}function ee(t,a){if(1&t&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"json"),e.qZA()),2&t){const n=e.oxw(4);e.xp6(1),e.hij(" ",e.lcZ(2,1,n.error.error.error)," ")}}function te(t,a){if(1&t&&(e._UZ(0,"i",11),e.TgZ(1,"div",12),e.TgZ(2,"p"),e._uU(3),e.qZA(),e.YNc(4,$,3,3,"p",5),e.YNc(5,ee,3,3,"p",5),e.qZA()),2&t){const n=e.oxw(3);e.xp6(3),e.Oqu(n.error.error.msg),e.xp6(1),e.Q6J("ngIf",null!=n.error.error.err),e.xp6(1),e.Q6J("ngIf",null!=n.error.error.error)}}function ne(t,a){1&t&&(e.TgZ(0,"p-messages",9),e.YNc(1,te,6,3,"ng-template",10),e.qZA())}function ae(t,a){if(1&t&&(e._UZ(0,"i",11),e.TgZ(1,"div",12),e.TgZ(2,"p"),e._uU(3),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.ALo(6,"json"),e.qZA(),e.qZA()),2&t){const n=e.oxw(3);e.xp6(3),e.Oqu(n.success.data.msg),e.xp6(2),e.Oqu(e.lcZ(6,2,n.success.data))}}function se(t,a){1&t&&(e.TgZ(0,"p-messages",13),e.YNc(1,ae,7,4,"ng-template",10),e.qZA())}function re(t,a){if(1&t&&(e.YNc(0,W,4,0,"div",5),e.YNc(1,ne,2,0,"p-messages",6),e.YNc(2,se,2,0,"p-messages",7)),2&t){const n=e.oxw();e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",n.errorDatos),e.xp6(1),e.Q6J("ngIf",n.successDatos)}}function oe(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"div",14),e.TgZ(1,"p-button",15),e.NdJ("onClick",function(){return e.CHM(n),e.oxw().prevPage()}),e.qZA(),e.TgZ(2,"p-button",16),e.NdJ("onClick",function(){return e.CHM(n),e.oxw().nextPage()}),e.qZA(),e.qZA()}if(2&t){const n=e.oxw();e.xp6(1),e.Q6J("disabled",n.btnActiveBack),e.xp6(1),e.Q6J("disabled",n.btnActive)}}let ie=(()=>{class t{constructor(n,s){this.router=n,this.encuestasService=s,this.error={ok:!1,error:{msg:"No existen datos para agregar",err:null}},this.successDatos=!1,this.loading=!0,this.errorDatos=!1,this.display=!1}ngOnInit(){this.desactivarMateriasEstudiantes()}desactivarMateriasEstudiantes(){this.encuestasService.desactivarMateriasEstudiantes().subscribe(n=>{this.success=n,this.loading=!1,this.successDatos=!0},n=>{this.errorDatos=!0,this.loading=!1,this.error=n})}prevPage(){this.router.navigate(["index/gestionarEncuestas/pregrado/cargar"])}nextPage(){this.router.navigate(["index/gestionarEncuestas/pregrado/activarEstudiantes"])}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(p.F0),e.Y36(u))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-gen-desactivar"]],decls:6,vars:0,consts:[[1,"steps-curso-content"],["pTemplate","title"],["pTemplate","subtitle"],["pTemplate","content"],["pTemplate","footer"],[4,"ngIf"],["severity","error",4,"ngIf"],["severity","success",4,"ngIf"],[1,"grid","grid-nogutter","justify-content-center"],["severity","error"],["pTemplate",""],[1,"pi","pi-times-circle",2,"font-size","1.5rem"],[1,"ml-2"],["severity","success"],[1,"grid","grid-nogutter","justify-content-end"],["label","Inicio","icon","pi pi-angle-left",3,"disabled","onClick"],["label","Next","icon","pi pi-angle-right","iconPos","right",3,"disabled","onClick"]],template:function(n,s){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"p-card"),e.YNc(2,V,1,0,"ng-template",1),e.YNc(3,X,1,0,"ng-template",2),e.YNc(4,re,3,3,"ng-template",3),e.YNc(5,oe,3,2,"ng-template",4),e.qZA(),e.qZA())},directives:[m.Z,d.jx,c.O5,f.G,v.V,x.zx],pipes:[c.Ts],styles:[""]}),t})();var ce=r(5835);const pe=[{path:"",children:[{path:"pregrado",component:(()=>{class t{constructor(){this.activeIndex=1}ngOnInit(){this.items=[{label:"Cargar Datos Encuesta",routerLink:"cargar"},{label:"Desactivar Materias de Estudiante",routerLink:"desactivarEstudiantes"},{label:"Activar Materias de Estudiante",routerLink:"activarEstudiantes"}]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-gen-encuestas"]],decls:3,vars:2,consts:[[1,"card"],[3,"model","readonly"]],template:function(n,s){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"p-steps",1),e.qZA(),e._UZ(2,"router-outlet")),2&n&&(e.xp6(1),e.Q6J("model",s.items)("readonly",!0))},directives:[ce.R,p.lC],styles:[""]}),t})(),children:[{path:"",redirectTo:"cargar",pathMatch:"full"},{path:"cargar",component:K},{path:"desactivarEstudiantes",component:ie},{path:"activarEstudiantes",component:I}]}]}];let le=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[p.Bz.forChild(pe)],p.Bz]}),t})();var ge=r(9106),_e=r(4331);let ue=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[c.ez,le,ge.K,_e.g]]}),t})()}}]);